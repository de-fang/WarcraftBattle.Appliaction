<Window x:Class="WarcraftBattle.Editor.ShellView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:cal="http://www.caliburnproject.org"
        xmlns:res="clr-namespace:WarcraftBattle.Editor.Properties"
        Title="WarcraftBattle Editor"
        Width="1600"
        Height="900"
        WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
    </Window.Resources>

    <Grid Background="{StaticResource Editor.Window.Background}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="300" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="160" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Grid Grid.ColumnSpan="5" Grid.Row="0" Background="{StaticResource Editor.Panel.Background}">
            <Grid.RowDefinitions>
                <RowDefinition Height="32" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <DockPanel Grid.Row="0" LastChildFill="True" MouseLeftButtonDown="OnTitleBarMouseDown">
                <TextBlock Text="{x:Static res:Strings.EditorTitle}"
                           VerticalAlignment="Center"
                           Margin="12,0"
                           FontWeight="Bold" />
                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal">
                    <Button Content="_" Width="36" Height="24" Margin="0,4,4,4" Click="OnMinimizeClick" />
                    <Button Content="X" Width="36" Height="24" Margin="0,4,8,4" Click="OnCloseClick" />
                </StackPanel>
            </DockPanel>
            <Menu Grid.Row="1" Background="{StaticResource Editor.Panel.Background}" Foreground="{StaticResource Editor.Control.Foreground}">
                <MenuItem Header="{x:Static res:Strings.MenuFile}">
                    <MenuItem Header="{x:Static res:Strings.MenuNew}" />
                    <MenuItem Header="{x:Static res:Strings.MenuOpen}" />
                    <MenuItem Header="{x:Static res:Strings.MenuSave}" cal:Message.Attach="ActiveMap.SaveMap" />
                    <MenuItem Header="{x:Static res:Strings.MenuSaveAs}" />
                    <MenuItem Header="{x:Static res:Strings.MenuExport}" />
                </MenuItem>
                <MenuItem Header="{x:Static res:Strings.MenuEdit}">
                    <MenuItem Header="{x:Static res:Strings.MenuUndo}" />
                    <MenuItem Header="{x:Static res:Strings.MenuRedo}" />
                    <MenuItem Header="{x:Static res:Strings.MenuCut}" />
                    <MenuItem Header="{x:Static res:Strings.MenuCopy}" />
                    <MenuItem Header="{x:Static res:Strings.MenuPaste}" />
                </MenuItem>
                <MenuItem Header="{x:Static res:Strings.MenuView}">
                    <MenuItem Header="{x:Static res:Strings.MenuShowToolbox}" IsCheckable="True" IsChecked="{Binding IsToolboxVisible}" />
                    <MenuItem Header="{x:Static res:Strings.MenuShowInspector}" IsCheckable="True" IsChecked="{Binding IsInspectorVisible}" />
                    <MenuItem Header="{x:Static res:Strings.MenuShowOutput}" IsCheckable="True" IsChecked="{Binding IsOutputVisible}" />
                </MenuItem>
                <MenuItem Header="{x:Static res:Strings.MenuData}">
                    <MenuItem Header="{x:Static res:Strings.MenuObjectEditor}" />
                    <MenuItem Header="{x:Static res:Strings.MenuTriggerEditor}" />
                    <MenuItem Header="{x:Static res:Strings.MenuEnvironment}" />
                </MenuItem>
            </Menu>
        </Grid>

        <ContentControl Grid.Column="0" Grid.Row="1" Grid.RowSpan="3"
                        Content="{Binding Toolbox}"
                        Visibility="{Binding IsToolboxVisible, Converter={StaticResource BoolToVis}}" />
        <GridSplitter Grid.Column="1" Grid.Row="1" Grid.RowSpan="3"
                      Visibility="{Binding IsToolboxVisible, Converter={StaticResource BoolToVis}}" />

        <TabControl Grid.Column="2" Grid.Row="1" Grid.RowSpan="3"
                    ItemsSource="{Binding Documents}"
                    SelectedItem="{Binding ActiveItem}">
            <TabControl.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding DisplayName}" />
                </DataTemplate>
            </TabControl.ItemTemplate>
            <TabControl.ContentTemplate>
                <DataTemplate>
                    <ContentControl cal:View.Model="{Binding}" />
                </DataTemplate>
            </TabControl.ContentTemplate>
        </TabControl>

        <GridSplitter Grid.Column="3" Grid.Row="1" Grid.RowSpan="3"
                      Visibility="{Binding IsInspectorVisible, Converter={StaticResource BoolToVis}}" />
        <ContentControl Grid.Column="4" Grid.Row="1" Grid.RowSpan="3"
                        Content="{Binding Inspector}"
                        Visibility="{Binding IsInspectorVisible, Converter={StaticResource BoolToVis}}" />

        <GridSplitter Grid.ColumnSpan="5" Grid.Row="2"
                      Height="5"
                      HorizontalAlignment="Stretch"
                      VerticalAlignment="Stretch"
                      Visibility="{Binding IsOutputVisible, Converter={StaticResource BoolToVis}}" />

        <ContentControl Grid.ColumnSpan="5" Grid.Row="3"
                        Content="{Binding Output}"
                        Visibility="{Binding IsOutputVisible, Converter={StaticResource BoolToVis}}" />

        <Border Grid.ColumnSpan="5" Grid.Row="4" Background="{StaticResource Editor.Panel.Background}">
            <TextBlock Text="{x:Static res:Strings.StatusReady}" Margin="8,4" />
        </Border>
    </Grid>
</Window>
